<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Priority Queue | Today Bammer Learned</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Github TIL Pages">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.f8069f0c.css" as="style"><link rel="preload" href="/TIL/assets/js/app.73e34d09.js" as="script"><link rel="preload" href="/TIL/assets/js/2.f4913aff.js" as="script"><link rel="preload" href="/TIL/assets/js/17.52a41868.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.6cb6fcd7.js"><link rel="prefetch" href="/TIL/assets/js/11.cf4105af.js"><link rel="prefetch" href="/TIL/assets/js/12.336a170e.js"><link rel="prefetch" href="/TIL/assets/js/13.769dc25b.js"><link rel="prefetch" href="/TIL/assets/js/14.d80de0b3.js"><link rel="prefetch" href="/TIL/assets/js/15.d567b65f.js"><link rel="prefetch" href="/TIL/assets/js/16.5e38e2fb.js"><link rel="prefetch" href="/TIL/assets/js/18.04e36dc3.js"><link rel="prefetch" href="/TIL/assets/js/19.6282f101.js"><link rel="prefetch" href="/TIL/assets/js/20.e4dffaae.js"><link rel="prefetch" href="/TIL/assets/js/21.dec7bcae.js"><link rel="prefetch" href="/TIL/assets/js/22.d868725d.js"><link rel="prefetch" href="/TIL/assets/js/23.73600a7e.js"><link rel="prefetch" href="/TIL/assets/js/24.e6584154.js"><link rel="prefetch" href="/TIL/assets/js/25.91dd83cc.js"><link rel="prefetch" href="/TIL/assets/js/26.4af83b7a.js"><link rel="prefetch" href="/TIL/assets/js/27.967482dd.js"><link rel="prefetch" href="/TIL/assets/js/28.961cb303.js"><link rel="prefetch" href="/TIL/assets/js/29.45586fc0.js"><link rel="prefetch" href="/TIL/assets/js/3.28587c1c.js"><link rel="prefetch" href="/TIL/assets/js/30.8377e5ed.js"><link rel="prefetch" href="/TIL/assets/js/31.fed4395f.js"><link rel="prefetch" href="/TIL/assets/js/32.c17adf13.js"><link rel="prefetch" href="/TIL/assets/js/33.a9829a66.js"><link rel="prefetch" href="/TIL/assets/js/34.0fe0efed.js"><link rel="prefetch" href="/TIL/assets/js/35.7998f59f.js"><link rel="prefetch" href="/TIL/assets/js/4.bff542e8.js"><link rel="prefetch" href="/TIL/assets/js/5.32dde0b2.js"><link rel="prefetch" href="/TIL/assets/js/6.345e52dd.js"><link rel="prefetch" href="/TIL/assets/js/7.090c3424.js"><link rel="prefetch" href="/TIL/assets/js/8.1f3cb9b3.js"><link rel="prefetch" href="/TIL/assets/js/9.af20a760.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.f8069f0c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today Bammer Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jhcse5189/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://jhcse5189.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/jhcse5189/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://jhcse5189.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MIL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Algorithm</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Data Structure</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/Data-Structure/priority-queue.html" aria-current="page" class="active sidebar-link">Priority Queue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/Data-Structure/priority-queue.html#implementation" class="sidebar-link">Implementation</a></li><li class="sidebar-sub-header"><a href="/TIL/Data-Structure/priority-queue.html#double-ended" class="sidebar-link">Double-Ended?</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Boolean Algebra</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Math</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tensorflow</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="priority-queue"><a href="#priority-queue" class="header-anchor">#</a> Priority Queue</h1> <p>대충 key를 넣을 떄마다 가장 큰 값만 뽑아주게 max heap을 유지하게 만들어주면서 돌리면.. 시간초과로 PS시 터져버린다. 뭘까. C++ STL를 안써서 그냥 망하는건가, 내가 클래스로 짠 heap에 무슨 문제가 있나 봤더니 PQ 문제다. ... 뭐가 다를까, heap에서 어떤 메소드만 구현해놓은 PQ가 될까.</p> <p>정말 한글이 짜세(?)다. 참고한 네이버 블로그를 적어 놓는다. 우선순위 큐, 자료구조 중 하나다. 이 칭구는 어떤 연산을 지원해줘야하나?</p> <p>지원해야만 하는 연산은 생각해보면 별로 없다. 빈 PQ가 있다고 생각하고 큐의 push, top, pop만 효율적으로 수행할 수 있도록 하면 된다.</p> <p>key를 push하는 과정을 생각해보자. heap_size를 증가시키고 pq[heap_size] = key가 들어간다. 그러면 새로운 key로 인해 pq는 max_heap이 아니게 될 수 있, 어렵게 말하지 말고 위반할 수 있다. 그러면 최대 root 노드까지 <strong>heapify를 통해 제 자리를 찾아주어 heap을 유지시켜주면 될 것이다. (틀렸다, 밑에서 위로 올라가려면 increase_key 메서드를 따로 만들어줘야한다.)</strong> 아마 O(lg n)의 시간복잡도가 나올 것 같다.</p> <p>Maximum을 pop하는 과정도 상상해보자. max_heap이 유지된 상태에서 pq[1]에 가장 큰 값이 있다. pop되면서 heap_size가 감소하므로 heap의 배열에서 마지막 key를 pq[1]로 올리고 이 칭구를 heapify하여 자기 자리를 찾아주면 된다. 역시 pop도 O(lg n)의 시간복잡도를 갖지 않을까.</p> <p>문제에서 최대 10만개 들어오는데 <strong>똑바로 구현하면(원서 대충 읽고 안써보고 이래서 11279번 디버깅하는데 너무 오래걸렸다.)</strong> 1초만에 될텐데... 일단 맞고 생각하자. 맞고, 이전 제출에서는 왜 안됐는지, C++ 라이브러리를 쓰면 을매나 편할런지 만들어보자.</p> <p>굳이 heap을 가지고 sort를 하는 게 아니기 때문에 힙 프로퍼티만 지킨다는 생각으로 짜야지 삽입/삭제 둘 다 로그n 타임이 나온다. increase_key에서 부등호 범위 떄문에 (x &gt;= 1) 1을 포함해버려서 힙을 출력하는데 중간에 0이 끼여있고 막 그랬다.</p> <h2 id="implementation"><a href="#implementation" class="header-anchor">#</a> Implementation</h2> <p>어차피 C++ queue에서 <code>priority_queue</code> STL 쓸건데</p> <h2 id="double-ended"><a href="#double-ended" class="header-anchor">#</a> Double-Ended?</h2> <p>7662번을 보고 순간 드는 생각, ... 그냥 힙 2개를 만들면? 아니 1개로 만들 수 있는 방법이 있지 않을까 100만개가 들어오는데 시간도 6초나 주고... 뭐지. 일단 2개를 만들어서 맞추고 생각하자. 찾아보니까 self balancing BST를 써서도 만들 수 있다고 하는데 그건 알고리즘 책 인쇄해놓은 BST 마저 다 읽고 그냥 BST 관련 문제들 좀 풀어보고 도전해보자.</p> <h3 id="ref"><a href="#ref" class="header-anchor">#</a> Ref.</h3> <div class="language- extra-class"><pre class="language-text"><code>https://m.blog.naver.com/kks227/220791188929
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/Algorithm/greedy.html" class="prev">
        Greedy Algorithm
      </a></span> <span class="next"><a href="/TIL/Boolean-Algebra/canonical-Form.html">
        Boolean Algebra
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.73e34d09.js" defer></script><script src="/TIL/assets/js/2.f4913aff.js" defer></script><script src="/TIL/assets/js/17.52a41868.js" defer></script>
  </body>
</html>
